{
    "transformations": [
        {
            "sourcePointer": "/files",
            "targetPointer": "/paths",
            "values": [
                {
                    "valuePointer": "/x",
                    "valueExpression": "/path"
                }
            ]
        },
        {
            "merge": true,
            "sourcePointer": "/files",
            "targetPointer": "/paths",
            "values": [
                {
                    "valuePointer": "/y",
                    "valueExpression": "/path"
                }
            ]
        },
        {
            "sourcePointer": "/files",
            "targetPointer": "/paths",
            "values": [
                {
                    "valuePointer": "/z",
                    "valueExpression": "/path"
                }
            ]
        },
        {
            "sourcePointer": "/files",
            "targetPointer": "/paths",
            "values": [
                {
                    "valuePointer": "",
                    "valueExpression": "/path"
                }
            ]
        },
        {
            "sourcePointer": "/authors[i]/organizations",
            "targetPointer": "/creators[i]/affiliations",
            "values": [
                {
                    "valuePointer": "",
                    "valueExpression": ""
                }
            ]
        },
        {
            "merge": true,
            "sourcePointer": "/authors[i]/organizations",
            "targetPointer": "/creators[i]/affiliations",
            "values": [
                {
                    "valuePointer": "/orgName",
                    "valueExpression": "/name"
                }
            ]
        },
        {
            "sourcePointer": "/authors[i]/organizations",
            "targetPointer": "/flattened",
            "values": [
                {
                    "valuePointer": "/org",
                    "valueExpression": "/name"
                }
            ]
        },
        {
            "merge": true,
            "sourcePointer": "/authors[i]/organizations",
            "targetPointer": "/flattened",
            "values": [
                {
                    "valuePointer": "/orgName",
                    "valueExpression": "func(withLogger(/name))"
                }
            ]
        },
        {
            "merge": true,
            "selfTranform" : true,
            "sourcePointer": "",
            "targetPointer": "",
            "values": [
                {
                    "valuePointer": "/flattened",
                    "valueExpression": "func(filter(ctx = ctx ? ctx : new Set(); res = ctx.add(x.orgName);))"
                }
            ]
        },
        {
            "merge": true,
            "sourcePointer": "",
            "targetPointer": "/total",
            "values": [
                {
                    "valuePointer": "/numbers",
                    "valueExpression": "func(reduce(res = res + x))"
                }
            ]
        },
        {
            "merge": true,
            "sourcePointer": "",
            "targetPointer": "/count",
            "values": [
                {
                    "valuePointer": "/numbers",
                    "valueExpression": "func(reduce(res = res + 1))"
                }
            ]
        },
        {
            "merge": true,
            "sourcePointer": "",
            "targetPointer": "/concat",
            "values": [
                {
                    "valuePointer": "/numbers",
                    "valueExpression": "func(reduce(res = (res ? res + ', ' : '') + x))"
                }
            ]
        }
    ]
}